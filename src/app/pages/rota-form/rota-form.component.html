<div class="rota-container">
  <header class="header">
    <img src="assets/logo.png" alt="eggGestor Logo" class="logo" />
    <h1>Gerenciamento de Caminhões</h1>
    <button class="menu-button" [routerLink]="['/']">Menu</button>
  </header>

  <main class="main-content">
    <form (ngSubmit)="salvar()" class="form">
      <div class="form-group">
        <label for="nome">Nome da Rota</label>
        <input
          type="text"
          id="nome"
          [(ngModel)]="rota.nome"
          name="nome"
          required
        />
      </div>

      <div class="form-group">
        <label for="tipoResiduo">Tipo de Resíduo</label>
        <select
          id="tipoResiduo"
          [(ngModel)]="rota.tipoResiduo"
          name="tipoResiduo"
          (change)="onTipoResiduoChange()"
          required
        >
          <option [ngValue]="null" disabled>Selecione um tipo</option>
          <option *ngFor="let tipo of tiposResiduo" [value]="tipo">
            {{ tipo }}
          </option>
        </select>
      </div>

      <div class="form-group">
        <label for="bairroOrigem">Origem</label>
        <select
          id="bairroOrigem"
          [(ngModel)]="rota.origem"
          name="bairroOrigem"
          [disabled]="!isOrigemDestinoEnabled"
          required
        >
          <option [ngValue]="null" disabled>Selecione origem</option>
          <option *ngFor="let bairro of bairrosOrigem" [ngValue]="bairro">
            {{ bairro.nomeBairro }}
          </option>
        </select>
      </div>

      <div class="form-group">
        <label for="bairroDestino">Destino</label>
        <select
          id="bairroDestino"
          [(ngModel)]="rota.destino"
          name="bairroDestino"
          [disabled]="!isOrigemDestinoEnabled"
          required
        >
          <option [ngValue]="null" disabled>Selecione destino</option>
          <option *ngFor="let bairro of bairrosDestino" [ngValue]="bairro">
            {{ bairro.nomeBairro }}
          </option>
        </select>
      </div>

      <div class="form-group">
        <label for="caminhao">Caminhão</label>
        <select
          id="caminhao"
          [(ngModel)]="rota.caminhao"
          name="caminhao"
          required
        >
          <option [ngValue]="null" disabled>Selecione um caminhão</option>
          <option *ngFor="let caminhao of caminhoes" [ngValue]="caminhao">
            {{ caminhao.placa }} - {{ caminhao.motorista?.nome }}
          </option>
        </select>
      </div>

      <button type="submit">Salvar</button>
    </form>
  </main>

  <footer class="footer">
    <app-footer></app-footer>
  </footer>
</div>
