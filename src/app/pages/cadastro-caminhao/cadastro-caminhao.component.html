<div class="caminhao-container">
  <header class="header">
    <img src="assets/logo.png" alt="eggGestor Logo" class="logo" />
    <h1>{{ caminhao ? 'Editar caminhão' : 'Novo caminhão' }}</h1>
    <button class="menu-button" [routerLink]="['/motoristas']">Voltar</button>
  </header>

  <main class="main-content">
    <form (ngSubmit)="onSubmit()">
      <label>Placa (7 caracteres):</label>
      <input [disabled]="!!caminhao" [(ngModel)]="placa" name="placa" required />

      <label>Motorista (opcional):</label>
      <select [(ngModel)]="motoristaSelecionadoCpf" name="motorista">
        <option value="">Nenhum</option>
        <option *ngFor="let m of motoristas" [value]="m.cpf">{{ m.nome }}</option>
      </select>

      <label>Tipos de Resíduos:</label>
      <div class="checkboxes">
        <label *ngFor="let r of residuos">
          <input
            type="checkbox"
            [checked]="tiposResiduosSelecionados.includes(r)"
            (change)="toggleResiduo(r)"
          />
          {{ r }}
        </label>
      </div>

      <div class="box_erro" *ngIf="mensagemErro">
        <p>{{ mensagemErro }}</p>
      </div>

      <button type="submit">Salvar</button>
      <button type="button" (click)="cancelar()">Cancelar</button>
    </form>
  </main>

  <app-footer />
</div>
